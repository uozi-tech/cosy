import{h as Pe,w as Ee,f as Te,r as Ae,d as je,k as R,G as te,c as ne,F as qe,U as z,W as S,V as P,Y as ae,a4 as X,u as y,$ as D,a3 as Be,X as le}from"./vue-vendor-PlmX_NZX.js";import{g as De,l as Fe,e as Ie,k as me}from"./useApi-C9wvGAhc.js";import{S as Me}from"./SessionLogsDisplay-nu0O8H-k.js";import{w as ze,x as He,o as Re,y as Ke,j as Ge}from"./ant-design-vue-BZxoqjSI.js";import{_ as Je}from"./index-BG6BHNhw.js";var Ye={207:(e,r,t)=>{e.exports=t(452)},452:e=>{var r=(function(t){var a,s=Object.prototype,_=s.hasOwnProperty,O=typeof Symbol=="function"?Symbol:{},g=O.iterator||"@@iterator",V=O.asyncIterator||"@@asyncIterator",C=O.toStringTag||"@@toStringTag";function u(o,n,p){return Object.defineProperty(o,n,{value:p,enumerable:!0,configurable:!0,writable:!0}),o[n]}try{u({},"")}catch{u=function(n,p,v){return n[p]=v}}function F(o,n,p,v){var f=n&&n.prototype instanceof K?n:K,E=Object.create(f.prototype),B=new $(v||[]);return E._invoke=(function(Y,W,k){var M=G;return function(Q,ye){if(M===T)throw new Error("Generator is already running");if(M===L){if(Q==="throw")throw ye;return ee()}for(k.method=Q,k.arg=ye;;){var ve=k.delegate;if(ve){var ue=A(ve,k);if(ue){if(ue===x)continue;return ue}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(M===G)throw M=L,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);M=T;var oe=j(Y,W,k);if(oe.type==="normal"){if(M=k.done?L:J,oe.arg===x)continue;return{value:oe.arg,done:k.done}}oe.type==="throw"&&(M=L,k.method="throw",k.arg=oe.arg)}}})(o,p,B),E}function j(o,n,p){try{return{type:"normal",arg:o.call(n,p)}}catch(v){return{type:"throw",arg:v}}}t.wrap=F;var G="suspendedStart",J="suspendedYield",T="executing",L="completed",x={};function K(){}function Z(){}function c(){}var m={};u(m,g,(function(){return this}));var d=Object.getPrototypeOf,l=d&&d(d(I([])));l&&l!==s&&_.call(l,g)&&(m=l);var h=c.prototype=K.prototype=Object.create(m);function w(o){["next","throw","return"].forEach((function(n){u(o,n,(function(p){return this._invoke(n,p)}))}))}function b(o,n){function p(f,E,B,Y){var W=j(o[f],o,E);if(W.type!=="throw"){var k=W.arg,M=k.value;return M&&typeof M=="object"&&_.call(M,"__await")?n.resolve(M.__await).then((function(Q){p("next",Q,B,Y)}),(function(Q){p("throw",Q,B,Y)})):n.resolve(M).then((function(Q){k.value=Q,B(k)}),(function(Q){return p("throw",Q,B,Y)}))}Y(W.arg)}var v;this._invoke=function(f,E){function B(){return new n((function(Y,W){p(f,E,Y,W)}))}return v=v?v.then(B,B):B()}}function A(o,n){var p=o.iterator[n.method];if(p===a){if(n.delegate=null,n.method==="throw"){if(o.iterator.return&&(n.method="return",n.arg=a,A(o,n),n.method==="throw"))return x;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var v=j(p,o.iterator,n.arg);if(v.type==="throw")return n.method="throw",n.arg=v.arg,n.delegate=null,x;var f=v.arg;return f?f.done?(n[o.resultName]=f.value,n.next=o.nextLoc,n.method!=="return"&&(n.method="next",n.arg=a),n.delegate=null,x):f:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,x)}function N(o){var n={tryLoc:o[0]};1 in o&&(n.catchLoc=o[1]),2 in o&&(n.finallyLoc=o[2],n.afterLoc=o[3]),this.tryEntries.push(n)}function q(o){var n=o.completion||{};n.type="normal",delete n.arg,o.completion=n}function $(o){this.tryEntries=[{tryLoc:"root"}],o.forEach(N,this),this.reset(!0)}function I(o){if(o){var n=o[g];if(n)return n.call(o);if(typeof o.next=="function")return o;if(!isNaN(o.length)){var p=-1,v=function f(){for(;++p<o.length;)if(_.call(o,p))return f.value=o[p],f.done=!1,f;return f.value=a,f.done=!0,f};return v.next=v}}return{next:ee}}function ee(){return{value:a,done:!0}}return Z.prototype=c,u(h,"constructor",c),u(c,"constructor",Z),Z.displayName=u(c,C,"GeneratorFunction"),t.isGeneratorFunction=function(o){var n=typeof o=="function"&&o.constructor;return!!n&&(n===Z||(n.displayName||n.name)==="GeneratorFunction")},t.mark=function(o){return Object.setPrototypeOf?Object.setPrototypeOf(o,c):(o.__proto__=c,u(o,C,"GeneratorFunction")),o.prototype=Object.create(h),o},t.awrap=function(o){return{__await:o}},w(b.prototype),u(b.prototype,V,(function(){return this})),t.AsyncIterator=b,t.async=function(o,n,p,v,f){f===void 0&&(f=Promise);var E=new b(F(o,n,p,v),f);return t.isGeneratorFunction(n)?E:E.next().then((function(B){return B.done?B.value:E.next()}))},w(h),u(h,C,"Generator"),u(h,g,(function(){return this})),u(h,"toString",(function(){return"[object Generator]"})),t.keys=function(o){var n=[];for(var p in o)n.push(p);return n.reverse(),function v(){for(;n.length;){var f=n.pop();if(f in o)return v.value=f,v.done=!1,v}return v.done=!0,v}},t.values=I,$.prototype={constructor:$,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(q),!o)for(var n in this)n.charAt(0)==="t"&&_.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=a)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var n=this;function p(W,k){return E.type="throw",E.arg=o,n.next=W,k&&(n.method="next",n.arg=a),!!k}for(var v=this.tryEntries.length-1;v>=0;--v){var f=this.tryEntries[v],E=f.completion;if(f.tryLoc==="root")return p("end");if(f.tryLoc<=this.prev){var B=_.call(f,"catchLoc"),Y=_.call(f,"finallyLoc");if(B&&Y){if(this.prev<f.catchLoc)return p(f.catchLoc,!0);if(this.prev<f.finallyLoc)return p(f.finallyLoc)}else if(B){if(this.prev<f.catchLoc)return p(f.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<f.finallyLoc)return p(f.finallyLoc)}}}},abrupt:function(o,n){for(var p=this.tryEntries.length-1;p>=0;--p){var v=this.tryEntries[p];if(v.tryLoc<=this.prev&&_.call(v,"finallyLoc")&&this.prev<v.finallyLoc){var f=v;break}}f&&(o==="break"||o==="continue")&&f.tryLoc<=n&&n<=f.finallyLoc&&(f=null);var E=f?f.completion:{};return E.type=o,E.arg=n,f?(this.method="next",this.next=f.finallyLoc,x):this.complete(E)},complete:function(o,n){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&n&&(this.next=n),x},finish:function(o){for(var n=this.tryEntries.length-1;n>=0;--n){var p=this.tryEntries[n];if(p.finallyLoc===o)return this.complete(p.completion,p.afterLoc),q(p),x}},catch:function(o){for(var n=this.tryEntries.length-1;n>=0;--n){var p=this.tryEntries[n];if(p.tryLoc===o){var v=p.completion;if(v.type==="throw"){var f=v.arg;q(p)}return f}}throw new Error("illegal catch attempt")},delegateYield:function(o,n,p){return this.delegate={iterator:I(o),resultName:n,nextLoc:p},this.method==="next"&&(this.arg=a),x}},t})(e.exports);try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},ge={};function U(e){var r=ge[e];if(r!==void 0)return r.exports;var t=ge[e]={exports:{}};return Ye[e](t,t.exports,U),t.exports}U.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return U.d(r,{a:r}),r},U.d=(e,r)=>{for(var t in r)U.o(r,t)&&!U.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},U.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var Se={};function he(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function Oe(e,r){if(e){if(typeof e=="string")return he(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?he(e,r):void 0}}function se(e){return(function(r){if(Array.isArray(r))return he(r)})(e)||(function(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)})(e)||Oe(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ie(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}U.d(Se,{A:()=>Ze});const i=(be={Fragment:()=>qe,computed:()=>ne,createTextVNode:()=>te,createVNode:()=>R,defineComponent:()=>je,reactive:()=>Ae,ref:()=>Te,watch:()=>Ee,watchEffect:()=>Pe},de={},U.d(de,be),de),Ue=(0,i.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,r=this.onClick;return(0,i.createVNode)("span",{class:"vjs-tree-brackets",onClick:r},[e])}}),Qe=(0,i.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,r){var t=r.emit;return{uiType:(0,i.computed)((function(){return e.isMultiple?"checkbox":"radio"})),model:(0,i.computed)({get:function(){return e.checked},set:function(a){return t("update:modelValue",a)}})}},render:function(){var e=this.uiType,r=this.model,t=this.$emit;return(0,i.createVNode)("label",{class:["vjs-check-controller",r?"is-checked":""],onClick:function(a){return a.stopPropagation()}},[(0,i.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(e)},null),(0,i.createVNode)("input",{checked:r,class:"vjs-check-controller-original is-".concat(e),type:e,onChange:function(){return t("change",r)}},null)])}}),$e=(0,i.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var e=this.nodeType,r=this.onClick,t=e==="objectStart"||e==="arrayStart";return t||e==="objectCollapsed"||e==="arrayCollapsed"?(0,i.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(t?"open":"close"),onClick:r},[(0,i.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,i.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});var be,de;function fe(e){return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fe(e)}function Ve(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function re(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=(arguments.length>3?arguments[3]:void 0)||{},s=a.key,_=a.index,O=a.type,g=O===void 0?"content":O,V=a.showComma,C=V!==void 0&&V,u=a.length,F=u===void 0?1:u,j=Ve(e);if(j==="array"){var G=we(e.map((function(L,x,K){return re(L,"".concat(r,"[").concat(x,"]"),t+1,{index:x,showComma:x!==K.length-1,length:F,type:g})})));return[re("[",r,t,{showComma:!1,key:s,length:e.length,type:"arrayStart"})[0]].concat(G,re("]",r,t,{showComma:C,length:e.length,type:"arrayEnd"})[0])}if(j==="object"){var J=Object.keys(e),T=we(J.map((function(L,x,K){return re(e[L],/^[a-zA-Z_]\w*$/.test(L)?"".concat(r,".").concat(L):"".concat(r,'["').concat(L,'"]'),t+1,{key:L,showComma:x!==K.length-1,length:F,type:g})})));return[re("{",r,t,{showComma:!1,key:s,index:_,length:J.length,type:"objectStart"})[0]].concat(T,re("}",r,t,{showComma:C,length:J.length,type:"objectEnd"})[0])}return[{content:e,level:t,key:s,index:_,path:r,showComma:C,length:F,type:g}]}function we(e){if(typeof Array.prototype.flat=="function")return e.flat();for(var r=se(e),t=[];r.length;){var a=r.shift();Array.isArray(a)?r.unshift.apply(r,se(a)):t.push(a)}return t}function pe(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e==null)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(fe(e)!=="object")return e;if(r.get(e))return r.get(e);if(Array.isArray(e)){var t=e.map((function(_){return pe(_,r)}));return r.set(e,t),t}var a={};for(var s in e)a[s]=pe(e[s],r);return r.set(e,a),a}function _e(e,r,t,a,s,_,O){try{var g=e[_](O),V=g.value}catch(C){return void t(C)}g.done?r(V):Promise.resolve(V).then(a,s)}var We=U(207),ke=U.n(We);function Ne(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,a)}return t}function Ce(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ne(Object(t),!0).forEach((function(a){ie(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Le={data:{type:[String,Number,Boolean,Array,Object],default:null},rootPath:{type:String,default:"root"},indent:{type:Number,default:2},showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,renderNodeActions:{type:[Boolean,Function],default:void 0},selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},theme:{type:String,default:"light"},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onNodeMouseover:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}};const Xe=(0,i.defineComponent)({name:"TreeNode",props:Ce(Ce({},Le),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","nodeMouseover","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(e,r){var t=r.emit,a=(0,i.computed)((function(){return Ve(e.node.content)})),s=(0,i.computed)((function(){return"vjs-value vjs-value-".concat(a.value)})),_=(0,i.computed)((function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key})),O=(0,i.computed)((function(){return e.selectableType==="multiple"})),g=(0,i.computed)((function(){return e.selectableType==="single"})),V=(0,i.computed)((function(){return e.nodeSelectable(e.node)&&(O.value||g.value)})),C=(0,i.reactive)({editing:!1}),u=function(d){var l,h,w=(h=(l=d.target)===null||l===void 0?void 0:l.value)==="null"?null:h==="undefined"?void 0:h==="true"||h!=="false"&&(h[0]+h[h.length-1]==='""'||h[0]+h[h.length-1]==="''"?h.slice(1,-1):typeof Number(h)=="number"&&!isNaN(Number(h))||h==="NaN"?Number(h):h);t("valueChange",w,e.node.path)},F=(0,i.computed)((function(){var d,l=(d=e.node)===null||d===void 0?void 0:d.content;return l===null?l="null":l===void 0&&(l="undefined"),a.value==="string"?'"'.concat(l,'"'):l+""})),j=function(){var d=e.renderNodeValue;return d?d({node:e.node,defaultValue:F.value}):F.value},G=function(){t("bracketsClick",!e.collapsed,e.node)},J=function(){t("iconClick",!e.collapsed,e.node)},T=function(){t("selectedChange",e.node)},L=function(){t("nodeClick",e.node),V.value&&e.selectOnClickNode&&t("selectedChange",e.node)},x=function(){t("nodeMouseover",e.node)},K=function(d){if(e.editable&&!C.editing){C.editing=!0;var l=function h(w){var b;w.target!==d.target&&((b=w.target)===null||b===void 0?void 0:b.parentElement)!==d.target&&(C.editing=!1,document.removeEventListener("click",h))};document.removeEventListener("click",l),document.addEventListener("click",l)}},Z=(function(){var d=(0,i.ref)(!1),l=(function(){var h,w=(h=ke().mark((function b(A){return ke().wrap((function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,navigator.clipboard.writeText(A);case 3:d.value=!0,setTimeout((function(){d.value=!1}),300),N.next=10;break;case 7:N.prev=7,N.t0=N.catch(0),console.error("[vue-json-pretty] Copy failed: ",N.t0);case 10:case"end":return N.stop()}}),b,null,[[0,7]])})),function(){var b=this,A=arguments;return new Promise((function(N,q){var $=h.apply(b,A);function I(o){_e($,N,q,I,ee,"next",o)}function ee(o){_e($,N,q,I,ee,"throw",o)}I(void 0)}))});return function(b){return w.apply(this,arguments)}})();return{copy:l}})().copy,c=function(){var d=e.node,l=d.key,h=d.path,w=e.rootPath,b=new Function("data","return data".concat(h.slice(w.length)))(e.data),A=JSON.stringify(l?ie({},l,b):b,null,2);Z(A)},m=function(){var d=e.renderNodeActions;if(!d)return null;var l={copy:c};return typeof d=="function"?d({node:e.node,defaultActions:l}):(0,i.createVNode)("span",{onClick:c,class:"vjs-tree-node-actions-item"},[(0,i.createTextVNode)("copy")])};return function(){var d,l=e.node;return(0,i.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":e.showSelectController,"has-carets":e.showIcon,"is-highlight":e.highlightSelectedNode&&e.checked,dark:e.theme==="dark"},onClick:L,onMouseover:x,style:e.style},[e.showLineNumber&&(0,i.createVNode)("span",{class:"vjs-node-index"},[l.id+1]),e.showSelectController&&V.value&&l.type!=="objectEnd"&&l.type!=="arrayEnd"&&(0,i.createVNode)(Qe,{isMultiple:O.value,checked:e.checked,onChange:T},null),(0,i.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(l.level)).map((function(h,w){return(0,i.createVNode)("div",{key:w,class:{"vjs-indent-unit":!0,"has-line":e.showLine}},[Array.from(Array(e.indent)).map((function(){return(0,i.createVNode)(i.Fragment,null,[(0,i.createTextVNode)(" ")])}))])})),e.showIcon&&(0,i.createVNode)($e,{nodeType:l.type,onClick:J},null)]),l.key&&(0,i.createVNode)("span",{class:"vjs-key"},[(d=e.renderNodeKey,d?d({node:e.node,defaultKey:_.value||""}):_.value),(0,i.createVNode)("span",{class:"vjs-colon"},[":".concat(e.showKeyValueSpace?" ":"")])]),(0,i.createVNode)("span",null,[l.type!=="content"&&l.content?(0,i.createVNode)(Ue,{data:l.content.toString(),onClick:G},null):(0,i.createVNode)("span",{class:s.value,onClick:!e.editable||e.editableTrigger&&e.editableTrigger!=="click"?void 0:K,onDblclick:e.editable&&e.editableTrigger==="dblclick"?K:void 0},[e.editable&&C.editing?(0,i.createVNode)("input",{value:F.value,onChange:u,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):j()]),l.showComma&&(0,i.createVNode)("span",null,[","]),e.showLength&&e.collapsed&&(0,i.createVNode)("span",{class:"vjs-comment"},[(0,i.createTextVNode)(" // "),l.length,(0,i.createTextVNode)(" items ")])]),e.renderNodeActions&&(0,i.createVNode)("span",{class:"vjs-tree-node-actions"},[m()])])}}});function xe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,a)}return t}function H(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xe(Object(t),!0).forEach((function(a){ie(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xe(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}const Ze=(0,i.defineComponent)({name:"Tree",props:H(H({},Le),{},{collapsedNodeLength:{type:Number,default:1/0},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function},theme:{type:String,default:"light"}}),slots:["renderNodeKey","renderNodeValue","renderNodeActions"],emits:["nodeClick","nodeMouseover","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(e,r){var t=r.emit,a=r.slots,s=(0,i.ref)(),_=(0,i.computed)((function(){return re(e.data,e.rootPath)})),O=function(c,m){return _.value.reduce((function(d,l){var h,w=l.level>=c||l.length>=m,b=(h=e.pathCollapsible)===null||h===void 0?void 0:h.call(e,l);return l.type!=="objectStart"&&l.type!=="arrayStart"||!w&&!b?d:H(H({},d),{},ie({},l.path,1))}),{})},g=(0,i.reactive)({translateY:0,visibleData:null,hiddenPaths:O(e.deep,e.collapsedNodeLength)}),V=(0,i.computed)((function(){for(var c=null,m=[],d=_.value.length,l=0;l<d;l++){var h=H(H({},_.value[l]),{},{id:l}),w=g.hiddenPaths[h.path];if(c&&c.path===h.path){var b=c.type==="objectStart",A=H(H(H({},h),c),{},{showComma:h.showComma,content:b?"{...}":"[...]",type:b?"objectCollapsed":"arrayCollapsed"});c=null,m.push(A)}else{if(w&&!c){c=h;continue}if(c)continue;m.push(h)}}return m})),C=(0,i.computed)((function(){var c=e.selectedValue;return c&&e.selectableType==="multiple"&&Array.isArray(c)?c:[c]})),u=(0,i.computed)((function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."})),F=function(){var c=V.value;if(e.virtual){var m,d=e.height/e.itemHeight,l=((m=s.value)===null||m===void 0?void 0:m.scrollTop)||0,h=Math.floor(l/e.itemHeight),w=h<0?0:h+d>c.length?c.length-d:h;w<0&&(w=0);var b=w+d;g.translateY=w*e.itemHeight,g.visibleData=c.filter((function(A,N){return N>=w&&N<b}))}else g.visibleData=c},j=function(){F()},G=function(c){var m,d,l=c.path,h=e.selectableType;if(h==="multiple"){var w=C.value.findIndex((function(q){return q===l})),b=se(C.value);w!==-1?b.splice(w,1):b.push(l),t("update:selectedValue",b),t("selectedChange",b,se(C.value))}else if(h==="single"&&C.value[0]!==l){var A=(m=C.value,d=1,(function(q){if(Array.isArray(q))return q})(m)||(function(q,$){var I=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(I!=null){var ee,o,n=[],p=!0,v=!1;try{for(I=I.call(q);!(p=(ee=I.next()).done)&&(n.push(ee.value),!$||n.length!==$);p=!0);}catch(f){v=!0,o=f}finally{try{p||I.return==null||I.return()}finally{if(v)throw o}}return n}})(m,d)||Oe(m,d)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})())[0],N=l;t("update:selectedValue",N),t("selectedChange",N,A)}},J=function(c){t("nodeClick",c)},T=function(c){t("nodeMouseover",c)},L=function(c,m){if(c)g.hiddenPaths=H(H({},g.hiddenPaths),{},ie({},m,1));else{var d=H({},g.hiddenPaths);delete d[m],g.hiddenPaths=d}},x=function(c,m){e.collapsedOnClickBrackets&&L(c,m.path),t("bracketsClick",c,m)},K=function(c,m){L(c,m.path),t("iconClick",c,m)},Z=function(c,m){var d=pe(e.data),l=e.rootPath;new Function("data","val","data".concat(m.slice(l.length),"=val"))(d,c),t("update:data",d)};return(0,i.watchEffect)((function(){u.value&&(function(c){throw new Error("[VueJSONPretty] ".concat(c))})(u.value)})),(0,i.watchEffect)((function(){V.value&&F()})),(0,i.watch)((function(){return e.deep}),(function(c){c&&(g.hiddenPaths=O(c,e.collapsedNodeLength))})),(0,i.watch)((function(){return e.collapsedNodeLength}),(function(c){c&&(g.hiddenPaths=O(e.deep,c))})),function(){var c,m,d,l,h=(c=e.renderNodeKey)!==null&&c!==void 0?c:a.renderNodeKey,w=(m=e.renderNodeValue)!==null&&m!==void 0?m:a.renderNodeValue,b=(d=(l=e.renderNodeActions)!==null&&l!==void 0?l:a.renderNodeActions)!==null&&d!==void 0&&d,A=g.visibleData&&g.visibleData.map((function(N){return(0,i.createVNode)(Xe,{key:N.id,data:e.data,rootPath:e.rootPath,indent:e.indent,node:N,collapsed:!!g.hiddenPaths[N.path],theme:e.theme,showDoubleQuotes:e.showDoubleQuotes,showLength:e.showLength,checked:C.value.includes(N.path),selectableType:e.selectableType,showLine:e.showLine,showLineNumber:e.showLineNumber,showSelectController:e.showSelectController,selectOnClickNode:e.selectOnClickNode,nodeSelectable:e.nodeSelectable,highlightSelectedNode:e.highlightSelectedNode,editable:e.editable,editableTrigger:e.editableTrigger,showIcon:e.showIcon,showKeyValueSpace:e.showKeyValueSpace,renderNodeKey:h,renderNodeValue:w,renderNodeActions:b,onNodeClick:J,onNodeMouseover:T,onBracketsClick:x,onIconClick:K,onSelectedChange:G,onValueChange:Z,style:e.itemHeight&&e.itemHeight!==20?{lineHeight:"".concat(e.itemHeight,"px")}:{}},null)}));return(0,i.createVNode)("div",{ref:s,class:{"vjs-tree":!0,"is-virtual":e.virtual,dark:e.theme==="dark"},onScroll:e.virtual?j:void 0,style:e.showLineNumber?H({paddingLeft:"".concat(12*Number(_.value.length.toString().length),"px")},e.style):e.style},[e.virtual?(0,i.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(e.height,"px")}},[(0,i.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(V.value.length*e.itemHeight,"px")}},[(0,i.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(g.translateY,"px)")}},[A])])]):A])}}});var ce=Se.A;const et={key:0,class:"space-y-4"},tt={class:"font-mono text-sm"},rt={class:"font-mono"},nt={class:"text-sm"},ot={key:1,class:"bg-gray-50 p-4 rounded text-xs overflow-auto max-h-40"},at={key:1,class:"bg-gray-50 p-4 rounded text-xs overflow-auto max-h-40"},lt={key:1,class:"bg-gray-50 p-4 rounded text-xs overflow-auto max-h-40"},it={key:1,class:"bg-gray-50 p-4 rounded text-xs overflow-auto max-h-40"},ct={class:"bg-blue-50 p-4 rounded text-xs overflow-auto max-h-60 text-blue-800 font-mono"},st={class:"bg-red-50 p-4 rounded text-xs overflow-auto max-h-40 text-red-700"},ut=je({__name:"RequestDetailModal",props:{visible:{type:Boolean},request:{}},emits:["update:visible","close"],setup(e,{emit:r}){const t=e,a=r,s=ne(()=>{if(!t.request)return;const u=t.request;return{request_id:u.request_id,ip:u.ip,req_url:u.req_url,req_method:u.req_method,req_header:("req_header"in u?u.req_header:"")||("req_headers"in u&&u.req_headers?JSON.stringify(u.req_headers):""),req_body:("req_body"in u?u.req_body:"")||"",resp_header:("resp_header"in u?u.resp_header:"")||("resp_headers"in u&&u.resp_headers?JSON.stringify(u.resp_headers):""),resp_status_code:String(u.resp_status_code),resp_body:("resp_body"in u?u.resp_body:"")||"",latency:("latency"in u?u.latency:"")||"",session_logs:("session_logs"in u?u.session_logs:"")||"",is_websocket:("is_websocket"in u?u.is_websocket:"")||"",call_stack:("call_stack"in u?u.call_stack:"")||"",start_time:u.start_time,end_time:u.end_time,status:u.status,error:u.error,user_agent:"user_agent"in u?u.user_agent:void 0}}),_=ne(()=>{if(!s.value?.req_header)return null;try{return JSON.parse(s.value.req_header)}catch{return s.value.req_header}}),O=ne(()=>{if(!s.value?.req_body)return null;try{return JSON.parse(s.value.req_body)}catch{try{return decodeURI(s.value.req_body)}catch{return s.value.req_body}}}),g=ne(()=>{if(!s.value?.resp_header)return null;try{return JSON.parse(s.value.resp_header)}catch{return s.value.resp_header}}),V=ne(()=>{if(!s.value?.resp_body)return null;try{return JSON.parse(s.value.resp_body)}catch{return s.value.resp_body}});function C(){a("update:visible",!1),a("close")}return(u,F)=>{const j=He,G=Re,J=Ke,T=Ge,L=ze;return P(),z(L,{open:u.visible,title:"请求详细信息",footer:null,width:"900px",onCancel:C},{default:S(()=>[y(s)?(P(),ae("div",et,[R(J,{title:"基本信息",column:2,size:"small",bordered:""},{default:S(()=>[R(j,{label:"请求ID"},{default:S(()=>[te(D(y(s).request_id),1)]),_:1}),R(j,{label:"状态"},{default:S(()=>[R(G,{class:Be(y(De)(parseInt(y(s).resp_status_code)||y(s).status))},{default:S(()=>[te(D(y(s).resp_status_code||y(s).status),1)]),_:1},8,["class"])]),_:1}),R(j,{label:"方法"},{default:S(()=>[R(G,{color:"blue",class:"font-mono"},{default:S(()=>[te(D(y(Fe)(y(s).req_method)),1)]),_:1})]),_:1}),R(j,{label:"URL"},{default:S(()=>[le("span",tt,D(y(s).req_url),1)]),_:1}),R(j,{label:"客户端IP"},{default:S(()=>[le("span",rt,D(y(s).ip),1)]),_:1}),R(j,{label:"User Agent"},{default:S(()=>[le("span",nt,D(y(s).user_agent||"N/A"),1)]),_:1}),R(j,{label:"延迟"},{default:S(()=>[te(D(y(Ie)(y(s).latency)),1)]),_:1}),R(j,{label:"开始时间"},{default:S(()=>[te(D(y(me)(y(s).start_time)),1)]),_:1}),y(s).end_time?(P(),z(j,{key:0,label:"结束时间"},{default:S(()=>[te(D(y(me)(y(s).end_time)),1)]),_:1})):X("",!0)]),_:1}),y(_)?(P(),z(T,{key:0,size:"small",title:"请求头"},{default:S(()=>[typeof y(_)=="object"?(P(),z(y(ce),{key:0,data:y(_),theme:"light","show-length":!0,"show-line":!1,"show-icon":!0},null,8,["data"])):(P(),ae("pre",ot,D(y(_)),1))]),_:1})):X("",!0),y(s).req_body?(P(),z(T,{key:1,size:"small",title:"请求体"},{default:S(()=>[typeof y(O)=="object"?(P(),z(y(ce),{key:0,data:y(O),theme:"light","show-length":!0,"show-line":!1,"show-icon":!0},null,8,["data"])):(P(),ae("pre",at,D(y(O)),1))]),_:1})):X("",!0),y(g)?(P(),z(T,{key:2,size:"small",title:"响应头"},{default:S(()=>[typeof y(g)=="object"?(P(),z(y(ce),{key:0,data:y(g),theme:"light","show-length":!0,"show-line":!1,"show-icon":!0},null,8,["data"])):(P(),ae("pre",lt,D(y(g)),1))]),_:1})):X("",!0),y(V)?(P(),z(T,{key:3,size:"small",title:"响应体"},{default:S(()=>[typeof y(V)=="object"?(P(),z(y(ce),{key:0,data:y(V),theme:"light","show-length":!0,"show-line":!1,"show-icon":!0},null,8,["data"])):(P(),ae("pre",it,D(y(V)),1))]),_:1})):X("",!0),y(s).session_logs&&y(s).session_logs.trim()!==""&&y(s).session_logs!=="[]"?(P(),z(T,{key:4,size:"small",title:"请求日志"},{default:S(()=>[R(Me,{"session-logs":y(s).session_logs,"show-title":!1},null,8,["session-logs"])]),_:1})):X("",!0),y(s).call_stack?(P(),z(T,{key:5,size:"small",title:"调用栈信息"},{default:S(()=>[le("pre",ct,D(y(s).call_stack),1)]),_:1})):X("",!0),y(s).error?(P(),z(T,{key:6,size:"small",title:"错误信息"},{default:S(()=>[le("pre",st,D(y(s).error),1)]),_:1})):X("",!0)])):X("",!0)]),_:1},8,["open"])}}}),vt=Je(ut,[["__scopeId","data-v-8149a1c5"]]);export{vt as R};
